(function(n){"use strict";var d,ft,v,s,et,vt,ii,i,e,yt,ot,st,ht,g,f,y,nt,pt,wt,p,h,bt,u,o,c,l,r,tt,kt,t,a,w,dt,ct,gt,it,lt,b,k,at,ni,ti,rt,ut;n.fn.extend({venobox:function(ri){var fi=this,ei={arrowsColor:"#B6B6B6",autoplay:!1,bgcolor:"#fff",border:"0",closeBackground:"transparent",closeColor:"#fff",framewidth:"",frameheight:"",gallItems:!1,infinigall:!1,htmlClose:"Close",htmlNext:"<span>Next<\/span>",htmlPrev:"<span>Prev<\/span>",numeratio:!0,numerationBackground:"transparent",numerationColor:"#fff",numerationPosition:"bottom",overlayClose:!0,overlayColor:"rgba(23,23,23,0.85)",spinner:"double-bounce",spinColor:"#d2d2d2",titleattr:"title",titleBackground:"#161617",titleColor:"#d2d2d2",titlePosition:"bottom",cb_pre_open:function(){return!0},cb_post_open:function(){},cb_pre_close:function(){return!0},cb_post_close:function(){},cb_post_resize:function(){},cb_after_nav:function(){},cb_init:function(){}},ui=n.extend(ei,ri);return ui.cb_init(fi),this.each(function(){function ei(){return h.length?'<div class="vbox-title mobile">'+h+"<\/div>":""}function pi(){if(bt=t.data("gall"),pt=t.data("numeratio"),ht=t.data("gallItems"),g=t.data("infinigall"),f=ht?ht:n('.vbox-item[data-gall="'+bt+'"]'),u=f.eq(f.index(t)+1),o=f.eq(f.index(t)-1),u.length||g!==!0||(u=f.eq(0)),f.length>1?(a=f.index(t)+1,v.html(wi(a)+"<span>/<\/span>"+wi(f.length))):(v.html(""),a=1),pt===!0?v.show():v.hide(),h!==""?s.show():s.hide(),rt!==""?ut.show():ut.hide(),u.length||g===!0?(n(".vbox-next").removeClass("disabled"),c=!0):(n(".vbox-next").addClass("disabled"),c=!1),f.index(t)>0||g===!0?(n(".vbox-prev").removeClass("disabled"),l=!0):(n(".vbox-prev").addClass("disabled"),l=!1),l===!0||c===!0){i.on(ri.DOWN,ir);i.on(ri.MOVE,rr);i.on(ri.UP,ur)}}function wi(n){return n<10?"0"+n:n}function oi(n){if(n.length<1||y)return!1;y=!0;wt=n.data("overlay")||n.data("overlaycolor");ot=n.data("framewidth");st=n.data("frameheight");et=n.data("border");ft=n.data("bgcolor");e=n.data("href")||n.attr("href");d=n.data("autoplay");h=n.attr(n.data("titleattr"))||"";rt=n.data("galTitle");n===o&&i.addClass("animated").addClass("swipe-right");n===u&&i.addClass("animated").addClass("swipe-left");tt.show();i.animate({opacity:0},500,function(){i.removeClass("animated").removeClass("swipe-left").removeClass("swipe-right").css({"margin-left":0,"margin-right":0});n.data("vbtype")=="iframe"?di():n.data("vbtype")=="inline"?nr():n.data("vbtype")=="ajax"?ki():n.data("vbtype")=="video"?gi(d):(i.html('<img src="'+e+'">'+ei()),yi());t=n;pi();y=!1;ui.cb_after_nav(t,a,u,o)})}function bi(n){n.keyCode===27&&hi();n.keyCode==37&&l===!0&&oi(o);n.keyCode==39&&c===!0&&oi(u)}function hi(){var i=ui.cb_pre_close(t,a,u,o);if(i===!1)return!1;n("html").off("keydown",bi).removeClass("vbox-open");p.animate({opacity:0},500,function(){p.remove();y=!1;ui.cb_post_close()})}function ir(n){i.addClass("animated");gt=lt=n.pageY;it=b=n.pageX;w=!0}function rr(n){if(w===!0){b=n.pageX;lt=n.pageY;at=b-it;ni=lt-gt;var t=Math.abs(at),r=Math.abs(ni);t>r&&t<=100&&(n.preventDefault(),i.css("margin-left",at))}}function ur(){if(w===!0){w=!1;var n=t,r=!1;k=b-it;k<0&&c===!0&&(n=u,r=!0);k>0&&l===!0&&(n=o,r=!0);Math.abs(k)>=ti&&r===!0?oi(n):i.css({"margin-left":0,"margin-right":0})}}function ki(){n.ajax({url:e,cache:!1}).done(function(n){i.html('<div class="vbox-inline">'+n+"<\/div>"+ei());yi()}).fail(function(){i.html('<div class="vbox-inline"><p>Error retrieving contents, please retry<\/div>'+ei());si()})}function di(){i.html('<iframe class="venoframe" src="'+e+'"><\/iframe>'+ei());si()}function gi(n){var r,t=fr(e),f=n?"?rel=0&autoplay=1":"?rel=0",o=f+er(e),u=!1;t.type=="vimeo"?(u=!0,r="https://player.vimeo.com/video/"):t.type=="youtube"?(u=!0,r="https://www.youtube.com/embed/"):t.type=="htmlVideo"&&(u=!1,r="https://www.youtube.com/embed/");u?i.html('<iframe class="venoframe vbvid" webkitallowfullscreen mozallowfullscreen allowfullscreen frameborder="0" src="'+r+t.id+o+'"><\/iframe>'+ei()):i.html("<video "+(n?"autoplay":"")+' class="venoframe vbvid" controls="" class="video-player-inner video-loaded"><source src="'+t.id+'" type="video/mp4"><\/video>'+ei());si()}function fr(n){n.match(/(http:|https:|)\/\/(player.|www.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com))\/(video\/|embed\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/);var t;return(RegExp.$3.indexOf("youtu")>-1?t="youtube":RegExp.$3.indexOf("vimeo")>-1&&(t="vimeo"),n.indexOf("video:")==0)?{type:"htmlVideo",id:n.substring(6)}:{type:t,id:RegExp.$6}}function er(n){var i="",e=decodeURIComponent(n),f=e.split("?"),r,u,t;if(f[1]!==undefined)for(r=f[1].split("&"),t=0;t<r.length;t++)u=r[t].split("="),i=i+"&"+u[0]+"="+u[1];return encodeURI(i)}function nr(){i.html('<div class="vbox-inline">'+n(e).html()+"<\/div>"+ei());si()}function yi(){ct=i.find("img");ct.length?ct.each(function(){n(this).one("load",function(){si()})}):si()}function si(){s.html(h);ut.html(rt);i.find(">:first-child").addClass("figlio").css({width:ot,height:st,padding:et,background:ft});n("img.figlio").on("dragstart",function(n){n.preventDefault()});tr();i.animate({opacity:"1"},"slow",function(){tt.hide()})}function tr(){var t=i.outerHeight(),r=n(window).height();nt=t+60<r?(r-t)/2:"30px";i.css("margin-top",nt);i.css("margin-bottom",nt);ui.cb_post_resize()}var li;if(t=n(this),t.data("venobox"))return!0;fi.VBclose=function(){hi()};t.addClass("vbox-item");t.data("framewidth",ui.framewidth);t.data("frameheight",ui.frameheight);t.data("border",ui.border);t.data("bgcolor",ui.bgcolor);t.data("numeratio",ui.numeratio);t.data("gallItems",ui.gallItems);t.data("infinigall",ui.infinigall);t.data("overlaycolor",ui.overlayColor);t.data("titleattr",ui.titleattr);t.attr("data-gallery-title")!=undefined?t.data("galTitle",t.attr("data-gallery-title")):t.data("galTitle","");t.data("venobox",!0);t.on("click",function(f){f.preventDefault();t=n(this);var w=ui.cb_pre_open(t);if(w===!1)return!1;fi.VBnext=function(){oi(u)};fi.VBprev=function(){oi(o)};wt=t.data("overlay")||t.data("overlaycolor");ot=t.data("framewidth");st=t.data("frameheight");d=t.data("autoplay")||ui.autoplay;et=t.data("border");ft=t.data("bgcolor");c=!1;l=!1;y=!1;e=t.data("href")||t.attr("href");yt=t.data("css")||"";h=t.attr(t.data("titleattr"))||"";rt=t.data("galTitle");r='<div class="vbox-preloader">';switch(ui.spinner){case"rotating-plane":r+='<div class="sk-rotating-plane"><\/div>';break;case"double-bounce":r+='<div class="sk-double-bounce"><div class="sk-child sk-double-bounce1"><\/div><div class="sk-child sk-double-bounce2"><\/div><\/div>';break;case"wave":r+='<div class="sk-wave"><div class="sk-rect sk-rect1"><\/div><div class="sk-rect sk-rect2"><\/div><div class="sk-rect sk-rect3"><\/div><div class="sk-rect sk-rect4"><\/div><div class="sk-rect sk-rect5"><\/div><\/div>';break;case"wandering-cubes":r+='<div class="sk-wandering-cubes"><div class="sk-cube sk-cube1"><\/div><div class="sk-cube sk-cube2"><\/div><\/div>';break;case"spinner-pulse":r+='<div class="sk-spinner sk-spinner-pulse"><\/div>';break;case"chasing-dots":r+='<div class="sk-chasing-dots"><div class="sk-child sk-dot1"><\/div><div class="sk-child sk-dot2"><\/div><\/div>';break;case"three-bounce":r+='<div class="sk-three-bounce"><div class="sk-child sk-bounce1"><\/div><div class="sk-child sk-bounce2"><\/div><div class="sk-child sk-bounce3"><\/div><\/div>';break;case"circle":r+='<div class="sk-circle"><div class="sk-circle1 sk-child"><\/div><div class="sk-circle2 sk-child"><\/div><div class="sk-circle3 sk-child"><\/div><div class="sk-circle4 sk-child"><\/div><div class="sk-circle5 sk-child"><\/div><div class="sk-circle6 sk-child"><\/div><div class="sk-circle7 sk-child"><\/div><div class="sk-circle8 sk-child"><\/div><div class="sk-circle9 sk-child"><\/div><div class="sk-circle10 sk-child"><\/div><div class="sk-circle11 sk-child"><\/div><div class="sk-circle12 sk-child"><\/div><\/div>';break;case"cube-grid":r+='<div class="sk-cube-grid"><div class="sk-cube sk-cube1"><\/div><div class="sk-cube sk-cube2"><\/div><div class="sk-cube sk-cube3"><\/div><div class="sk-cube sk-cube4"><\/div><div class="sk-cube sk-cube5"><\/div><div class="sk-cube sk-cube6"><\/div><div class="sk-cube sk-cube7"><\/div><div class="sk-cube sk-cube8"><\/div><div class="sk-cube sk-cube9"><\/div><\/div>';break;case"fading-circle":r+='<div class="sk-fading-circle"><div class="sk-circle1 sk-circle"><\/div><div class="sk-circle2 sk-circle"><\/div><div class="sk-circle3 sk-circle"><\/div><div class="sk-circle4 sk-circle"><\/div><div class="sk-circle5 sk-circle"><\/div><div class="sk-circle6 sk-circle"><\/div><div class="sk-circle7 sk-circle"><\/div><div class="sk-circle8 sk-circle"><\/div><div class="sk-circle9 sk-circle"><\/div><div class="sk-circle10 sk-circle"><\/div><div class="sk-circle11 sk-circle"><\/div><div class="sk-circle12 sk-circle"><\/div><\/div>';break;case"folding-cube":r+='<div class="sk-folding-cube"><div class="sk-cube1 sk-cube"><\/div><div class="sk-cube2 sk-cube"><\/div><div class="sk-cube4 sk-cube"><\/div><div class="sk-cube3 sk-cube"><\/div><\/div>'}r+="<\/div>";kt='<a class="vbox-next">'+ui.htmlNext+'<\/a><a class="vbox-prev">'+ui.htmlPrev+"<\/a>";dt='<div class="vbox-top-name"><\/div><div class="vbox-title"><\/div><div class="vbox-num">0<span>/<\/span>0<\/div><div class="vbox-close">'+ui.htmlClose+"<\/div>";vt='<div class="vbox-overlay '+yt+'">'+r+'<div class="vbox-container"><div class="vbox-content"><\/div><\/div>'+dt+kt+"<\/div>";n("html").append(vt).addClass("vbox-open");n(".vbox-preloader div:not(.sk-circle) .sk-child, .vbox-preloader .sk-rotating-plane, .vbox-preloader .sk-rect, .vbox-preloader div:not(.sk-folding-cube) .sk-cube, .vbox-preloader .sk-spinner-pulse").css("background-color",ui.spinColor);p=n(".vbox-overlay");ii=n(".vbox-container");i=n(".vbox-content");v=n(".vbox-num");s=n(".vbox-title");ut=n(".vbox-top-name");tt=n(".vbox-preloader");i.scroll(function(){i.scrollTop()>80?n("html").addClass("overlay-scrolled"):n("html").removeClass("overlay-scrolled")});tt.show();s.css(ui.titlePosition,"-1px");s.css({color:ui.titleColor});n(".vbox-close").css({color:ui.closeColor,"background-color":ui.closeBackground});n(".vbox-num").css(ui.numerationPosition,"-1px");n(".vbox-num").css({color:ui.numerationColor,"background-color":ui.numerationBackground});n(".vbox-next span, .vbox-prev span").css({"border-top-color":ui.arrowsColor,"border-right-color":ui.arrowsColor});i.html("");i.css("opacity","0");p.css("opacity","0");pi();p.animate({opacity:1},250,function(){t.data("vbtype")=="iframe"?di():t.data("vbtype")=="inline"?nr():t.data("vbtype")=="ajax"?ki():t.data("vbtype")=="video"?gi(d):(i.html('<img src="'+e+'">'+ei()),yi());ui.cb_post_open(t,a,u,o)});n("html").keydown(bi);n(".vbox-prev").on("click",function(){n(this).hasClass("disabled")||oi(o)});n(".vbox-next").on("click",function(){oi(u)});return!1});li=".vbox-overlay";ui.overlayClose||(li=".vbox-close");n(document).on("click",li,function(t){(n(t.target).is(".vbox-overlay")||n(t.target).is(".vbox-content")||n(t.target).is(".vbox-close")||n(t.target).is(".vbox-preloader"))&&hi();n(t.target).is(".vbox-container")&&hi()});it=0;b=0;k=0;ti=50;w=!1;var ri={DOWN:"touchmousedown",UP:"touchmouseup",MOVE:"touchmousemove"},ci=function(t){var i,r;switch(t.type){case"mousedown":i=ri.DOWN;break;case"mouseup":i=ri.UP;break;case"mouseout":i=ri.UP;break;case"mousemove":i=ri.MOVE;break;default:return}r=vi(i,t,t.pageX,t.pageY);n(t.target).trigger(r)},ai=function(t){var i,r,u;switch(t.type){case"touchstart":i=ri.DOWN;break;case"touchend":i=ri.UP;break;case"touchmove":i=ri.MOVE;break;default:return}r=t.originalEvent.touches[0];u=i==ri.UP?vi(i,t,null,null):vi(i,t,r.pageX,r.pageY);n(t.target).trigger(u)},vi=function(t,i,r,u){return n.Event(t,{pageX:r,pageY:u,originalEvent:i})};if("ontouchstart"in window){n(document).on("touchstart",ai);n(document).on("touchmove",ai);n(document).on("touchend",ai)}else{n(document).on("mousedown",ci);n(document).on("mouseup",ci);n(document).on("mouseout",ci);n(document).on("mousemove",ci)}n(window).resize(function(){n(".vbox-content").length&&setTimeout(tr(),800)})})}})})(jQuery);